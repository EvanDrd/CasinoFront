.container { max-width: 640px; margin: 20px auto; padding: 18px; border: 1px solid #eee; border-radius: 8px; }

.coin-stage { perspective: 1000px; display: flex; justify-content: center; align-items: center; height: 180px; position: relative; margin-bottom: 20px; }

.coin-anim { position: relative; display: inline-block; will-change: transform; }

.coin { width: 120px; height: 120px; position: relative; transform-style: preserve-3d; border-radius: 50%; box-shadow: 0 8px 18px rgba(0,0,0,0.20), inset 0 0 0 4px rgba(255,255,255,0.1); will-change: transform; }

.coin.static { transform: rotateX(var(--base-rot, 0deg)); }

.face { position: absolute; inset: 0; border-radius: 50%; backface-visibility: hidden; display: flex; justify-content: center; align-items: center; font-weight: 800; font-size: 20px; color: #fff; letter-spacing: 1px; text-shadow: 0 1px 0 rgba(0,0,0,0.3); }

.front { background: linear-gradient(145deg, #2196f3, #1565c0); }
.back { background: linear-gradient(145deg, #ef5350, #c62828); transform: rotateX(180deg); }

.face::after { content: ""; position: absolute; inset: 0; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), transparent 55%); pointer-events: none; }

.en-attente .coin { animation: coin-wait-rot 480ms linear infinite; }
.en-attente { animation: coin-bob 800ms ease-in-out infinite; }

@keyframes coin-wait-rot {
  from { transform: rotateX(var(--base-rot, 0deg)); }
  to   { transform: rotateX(calc(var(--base-rot, 0deg) + 360deg)); }
}

@keyframes coin-bob { 0% { transform: translateY(0) scale(1); } 50% { transform: translateY(-12px) scale(1.02); } 100% { transform: translateY(0) scale(1); } }

.en-attente .shadow { animation: shadow-bob 800ms ease-in-out infinite; }
@keyframes shadow-bob { 0%,100% { transform: translateX(-50%) scale(1); opacity: 0.7; } 50% { transform: translateX(-50%) scale(0.9); opacity: 0.55; } }

.en-resolution { animation: coin-throw 680ms cubic-bezier(.2,.8,.2,1) forwards; }
.en-resolution .coin { animation: coin-resolve-rot var(--rot-dur, 950ms) cubic-bezier(.2,.9,.2,1) forwards; }
.en-resolution .shadow { animation: coin-shadow 680ms ease-in-out forwards; }

@keyframes coin-throw { 0% { transform: translateY(0) scale(1); } 45% { transform: translateY(-85px) scale(1.03); } 100% { transform: translateY(0) scale(1); } }

@keyframes coin-resolve-rot {
  from { transform: rotateX(var(--base-rot, 0deg)); }
  to   { transform: rotateX(var(--target-rot, 1440deg)); }
}

@keyframes coin-shadow { 0% { transform: translateX(-50%) scale(1); opacity: .7; } 45% { transform: translateX(-50%) scale(0.85); opacity: .5; } 100% { transform: translateX(-50%) scale(1); opacity: .75; } }

.form-block { margin-bottom: 12px; }
.result-box { margin-top: 14px; padding: 10px; border-radius: 6px; background: #f7f7f7; }
.win { color: green; }
.lose, .error { color: #b00020; }
